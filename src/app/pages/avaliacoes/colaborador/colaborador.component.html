<div class="container flex flex-column align-items-center mb-4">

    <div class="titulo mt-2 mb-0 w-12 text-2xl">
        <p-divider align="left" type="solid">
            <b>Cadastro de Colaboradores</b>
        </p-divider>
    </div>

    <div class="containerInterno w-12">


        <div class="background-form" @swipeAnimation>

            <form
                [formGroup]="registercolaboradorForm"
                title="Cadastrar novo Colaborador"
                class="flex flex-column gap-4" 
            >
                <div class="form-geral flex flex-column gap-3 w-12 lg:flex-row">

                    <div class="fg1 flex flex-column w-12 align-items-center">

                        <p-card class="card w-12 text-center">
                            <ng-template #header>
                                <div class="header w-full text-center">
                                    <h2>Inserir Novo</h2>
                                </div>
                            </ng-template>
                            <div class="form-geral flex flex-column lg:flex-row">

                                <div class="fg1 flex flex-column w-12 align-items-center lg:w-6 mr-3">
                                    <div class="form1 w-12">
                                        <p-floatlabel variant="on">
                                            <p-iconfield>
                                                <p-inputicon class="pi pi-user" />
                                                <input
                                                    variant="filled"
                                                    [style]="{'width':'100%'}"
                                                    pInputText id="on_label"
                                                    autocomplete="off"
                                                    formControlName="nome"
                                                    type="text"
                                                />
                                            </p-iconfield>
                                            <label for="on_label">Digite o nome</label>
                                        </p-floatlabel>
                                    </div>
                                    <div class="form2 w-12 text-left">
                                        <p-floatLabel variant="on">
                                            <p-select
                                                variant="filled"
                                                inputId="float-label"
                                                [style]="{'width':'100%'}"
                                                [options]="empresas"
                                                formControlName="empresa"
                                                optionLabel="nome"
                                                (onChange)="onEmpresaSelecionada($event.value)"
                                            >
                                            </p-select>
                                            <label for="float-label" style="margin-left: 15px;">Selecione a Empresa</label>
                                        </p-floatLabel>
                                    </div>
                                    <div class="filial w-12 text-left">
                                        <p-floatLabel variant="on">
                                            <p-select
                                                variant="filled"
                                                inputId="float-label"
                                                [style]="{'width':'100%'}"
                                                [options]="filiais"
                                                id="filial"
                                                formControlName="filial"
                                                optionLabel="nome"
                                                [disabled]="true"
                                                (onChange)="onFilialSelecionada($event.value)"
                                            >
                                            </p-select>
                                            <label for="float-label" style="margin-left: 15px;">Selecione a Filial</label>
                                        </p-floatLabel>
                                    </div>
                                    <div class="form3 w-12 text-left">
                                        <p-floatLabel variant="on">
                                            <p-select
                                                variant="filled"
                                                [style]="{'width':'100%'}"
                                                [options]="areas"
                                                id="area"
                                                formControlName="area"
                                                optionLabel="nome"
                                                inputId="float-label"
                                                [disabled]="true"
                                                (onChange)="onAreaSelecionada($event.value)"
                                                >
                                            </p-select>
                                            <label for="float-label" style="margin-left: 15px;">Selecione a Área</label>
                                        </p-floatLabel>
                                    </div>
                                    <div class="dvset w-12 text-left">
                                        <p-floatLabel variant="on">
                                            <p-select
                                                variant="filled"
                                                [style]="{'width':'100%'}"
                                                [options]="setores"
                                                id="setor"
                                                formControlName="setor"
                                                optionLabel="nome"
                                                inputId="float-label"
                                                [disabled]="true"
                                                (onChange)="onSetorSelecionado($event.value)"
                                                >
                                            </p-select>
                                            <label for="float-label" style="margin-left: 15px;">Selecione o Ambiente</label>
                                        </p-floatLabel>
                                    </div>
                                    <div class="form4 w-12 text-left">
                                        <p-floatLabel variant="on">
                                            <p-select
                                                variant="filled"
                                                [style]="{'width':'100%'}"
                                                id="ambiente"
                                                [options]="ambientes"
                                                formControlName="ambiente"
                                                optionLabel="nome"
                                                [disabled]="true"
                                                inputId="float-label"
                                                (onChange)="onAmbienteSelecionado($event.value)"
                                            >
                                            </p-select>
                                            <label for="float-label" style="margin-left: 15px;">Selecione o Setor</label>
                                        </p-floatLabel>
                                    </div>
                                    <div class="dvcarg w-12 text-left">
                                        <p-floatLabel variant="on">
                                            <p-select
                                                variant="filled"
                                                [style]="{'width':'100%'}"
                                                id="cargo"
                                                [options]="cargos"
                                                formControlName="cargo"
                                                optionLabel="nome"
                                                [disabled]="true"
                                                inputId="float-label"
                                                (onChange)="onCargoSelecionado($event.value)"
                                            >
                                            </p-select>
                                            <label for="float-label" style="margin-left: 15px;">Selecione o Cargo</label>
                                        </p-floatLabel>
                                    </div>
                                    <div class="dvtc w-12 text-left">
                                        <p-floatLabel variant="on">
                                            <p-select
                                                variant="filled"
                                                [style]="{'width':'100%'}"
                                                id="tipocontrato"
                                                [options]="tipocontratos"
                                                formControlName="tipocontrato"
                                                optionLabel="nome"
                                                inputId="float-label"
                                            >
                                            </p-select>
                                            <label for="float-label" style="margin-left: 15px;">Selecione o Tipo de Contrato</label>
                                        </p-floatLabel>
                                    </div>
                                    <div class="dvraca w-12 text-left">
                                        <p-floatLabel variant="on">
                                            <p-select
                                                variant="filled"
                                                [style]="{'width':'100%'}"
                                                id="raca"
                                                [options]="racas"
                                                formControlName="raca"
                                                optionLabel="nome"
                                                inputId="float-label"
                                            >
                                            </p-select>
                                            <label for="float-label" style="margin-left: 15px;">Selecione a Raça</label>
                                        </p-floatLabel>
                                    </div>
                                    <div class="dvinst w-12 text-left">
                                        <p-floatLabel variant="on">
                                            <p-select
                                                variant="filled"
                                                [style]="{'width':'100%'}"
                                                id="inst"
                                                [options]="instrucoes"
                                                formControlName="instrucao"
                                                optionLabel="nome"
                                                inputId="float-label"
                                            >
                                            </p-select>
                                            <label for="float-label" style="margin-left: 15px;">Selecione o Grau de Instrução</label>
                                        </p-floatLabel>
                                    </div>
                                    <div class="sistemas w-12 text-left">
                                        <p-floatlabel variant="on">
                                            <p-iconfield>

                                                <input
                                                    variant="filled"
                                                    [style]="{'width':'100%'}"
                                                    pInputText id="on_label"
                                                    autocomplete="off"
                                                    formControlName="minerion_id"
                                                    type="text"
                                                />
                                            </p-iconfield>
                                            <label for="on_label">Minerion ID</label>
                                        </p-floatlabel>
                                        <p-floatlabel variant="on">
                                            <p-iconfield>

                                                <input
                                                    variant="filled"
                                                    [style]="{'width':'100%'}"
                                                    pInputText id="on_label"
                                                    autocomplete="off"
                                                    formControlName="dominio_id"
                                                    type="text"
                                                />
                                            </p-iconfield>
                                            <label for="on_label">Dominio ID</label>
                                        </p-floatlabel>
                                        <p-floatlabel variant="on">
                                            <p-iconfield>

                                                <input
                                                    variant="filled"
                                                    [style]="{'width':'100%'}"
                                                    pInputText id="on_label"
                                                    autocomplete="off"
                                                    formControlName="sgg_id"
                                                    type="text"
                                                />
                                            </p-iconfield>
                                            <label for="on_label">SGG ID</label>
                                        </p-floatlabel>
                                    </div>
                                </div>

                                <div class="fg2 flex flex-column w-12 align-items-center lg:w-6 ml-3">

                                    <div class="dvsal w-12 text-left">
                                        <p-floatLabel variant="on" >
                                            <p-inputNumber
                                                variant="filled"
                                                inputId="on_label"
                                                formControlName="salario"
                                                inputId="currency-us"
                                                mode="currency"
                                                currency="BRL"
                                                locale="pt-BR"

                                            />
                                            <label for="on_label">Informe o Salário</label>
                                        </p-floatLabel>
                                    </div>
                                    <div class="dvcat w-12 text-left">
                                        <p-floatLabel variant="on">
                                            <p-select
                                                variant="filled"
                                                [style]="{'width':'100%'}"
                                                id="cat"
                                                [options]="categorias"
                                                formControlName="categoria"
                                                optionLabel="nome"
                                                inputId="float-label"
                                            >
                                            </p-select>
                                            <label for="float-label" style="margin-left: 5px;">Selecione a Categoria</label>
                                        </p-floatLabel>
                                    </div>
                                    <div class="form5 w-12 text-left">
                                        <p-floatLabel variant="on">
                                            <p-datepicker
                                                variant="filled"
                                                [style]="{'width':'100%'}"
                                                id="da"
                                                formControlName="data_admissao"
                                                dateFormat="dd/mm/yy"
                                                inputId="float-label"
                                                [showIcon]="true"
                                            >
                                            </p-datepicker>
                                            <label for="float-label" >Data de Admissão</label>
                                        </p-floatLabel>
                                    </div>
                                    <div class="dvgen w-12 text-left">
                                        <p-floatLabel variant="on">
                                            <p-select
                                                variant="filled"
                                                id="gen"
                                                [style]="{'width':'100%'}"
                                                [options]="generos"
                                                formControlName="genero"
                                                optionLabel="nome"
                                                inputId="float-label"
                                            >
                                            </p-select>
                                            <label for="float-label" >Selecione o Gênero</label>
                                        </p-floatLabel>
                                    </div>
                                    <div class="form6 w-12 text-left">
                                        <p-floatLabel variant="on">
                                            <p-select
                                                variant="filled"
                                                [style]="{'width':'100%'}"
                                                id="es"
                                                [options]="estados_civis"
                                                formControlName="estado_civil"
                                                optionLabel="nome"
                                                inputId="float-label"
                                            >
                                            </p-select>
                                            <label for="float-label" style="margin-left: 5px;">Selecione o Estado Civil</label>
                                        </p-floatLabel>
                                    </div>
                                    <div class="form7 w-12 text-left">
                                        <p-floatLabel variant="on">
                                            <p-datepicker           
                                                variant="filled"
                                                id="dc"
                                                [style]="{'width':'100%'}"
                                                formControlName="data_nascimento"
                                                dateFormat="dd/mm/yy"
                                                inputId="float-label"
                                                [showIcon]="true"
                                            >
                                            </p-datepicker>
                                            <label for="float-label" style="margin-left: 5px;">Data de Nascimento</label>
                                        </p-floatLabel>
                                    </div>
                                    <div class="dvft w-12 flex-wrap lg:text-justify">
                                        <p><label for="foto">Carregar Foto</label></p>
                                        <input
                                            id="foto"
                                            type="file"
                                            formControlName="image"
                                            class="form-control"
                                            (change)="onFileChange($event,registercolaboradorForm)"
                                        />
                                    </div>

                                    <div class="dvemail w-12 text-left">
                                        <p-floatlabel variant="on">
                                            <p-iconfield>
                                                <p-inputicon class="pi pi-at" />
                                                <input
                                                    variant="filled"
                                                    [style]="{'width':'100%'}"
                                                    pInputText id="on_label"
                                                    autocomplete="off"
                                                    formControlName="email"
                                                    type="text"
                                                />
                                            </p-iconfield>
                                            <label for="on_label">Digite o email</label>
                                        </p-floatlabel>
                                    </div>
                                    <div class="dvcb w-12 text-left">
                                        <div class="titclas">
                                            <p><strong>Classificação do Colaborador</strong></p>
                                        </div>
                                            <div class="btns flex flex-column align-items-start  lg:flex-row ">
                                                
                                                <p-toggleswitch
                                                    id="sit"
                                                    formControlName="tornar_avaliador"
                                                >
                                                </p-toggleswitch>
                                                <p><label for="sit" [style]="{'margin-right':'10px'}">Avaliador </label></p>
                                                
                                                <p-toggleswitch
                                                    id="sit"
                                                    formControlName="tornar_avaliado"
                                                >
                                                </p-toggleswitch>
                                                <p><label for="sit">Avaliado </label></p>

                                            </div> 

                                            <div class="btns flex flex-column align-items-start  lg:flex-row ">
                                                
                                                    <p-toggleswitch
                                                        id="sit"
                                                        formControlName="situacao"
                                                    >
                                                    </p-toggleswitch>
                                                    <p><label for="sit" [style]="{'margin-right':'12px'}">Situação </label></p>
                                                
                                                    <p-toggleswitch
                                                        formControlName="tornar_gestor"
                                                    >
                                                    </p-toggleswitch>
                                                    <p><label for="sit">Gestor de Orçamento</label></p>
                                            </div> 
                                        </div>
                                    
                                </div>
                           
                            </div>
                            <div class=" flex w-12 gap-3 mt-4 justify-content-center text-center">
                                <p-divider align="left" type="solid">
                                    <b>Criar Usuário</b>
                                </p-divider>
                            </div>
                             <div class=" flex w-12 gap-3 mt-4 justify-content-center text-center">
                                 <div class="w-12 text-left">
                                    <p-floatlabel variant="on">
                                        <p-iconfield>
                                            <p-inputicon class="pi pi-user" />
                                            <input
                                                variant="filled"
                                                [style]="{'width':'100%'}"
                                                pInputText id="on_label"
                                                autocomplete="off"
                                                formControlName="username"
                                                type="text"
                                            />
                                        </p-iconfield>
                                        <label for="on_label">Digite o nome de usuário</label>
                                    </p-floatlabel>
                                    <br>
                                    <p-floatlabel variant="on">
                                        <p-iconfield>
                                            <p-inputicon class="pi pi-key" />
                                            <input
                                                variant="filled"
                                                [style]="{'width':'100%'}"
                                                pInputText id="on_label"
                                                autocomplete="off"
                                                formControlName="password"
                                                type="text"
                                            />
                                        </p-iconfield>
                                        <label for="on_label">Digite a senha</label>
                                    </p-floatlabel>

                                </div>
                            </div>
                               
                            <div class=" flex w-12 gap-3 mt-4 justify-content-center text-center">
                                <p-button 
                                    (onClick)="clearForm()" 
                                    label="Limpar"
                                    iconPos="right"  
                                    tooltipPosition="top"
                                    pTooltip="Limpar"
                                />
                                <p-button 
                                    (onClick)="submit()" 
                                    label="Salvar" 
                                    severity="success"
                                    icon="pi pi-check" 
                                    iconPos="right" 
                                    tooltipPosition="top"
                                    pTooltip="Salvar"
                                />
                            </div>
                        </p-card>
                    </div>    
                </div>
            </form>

        </div>

        <div class="background-form mt-4 w-12" @swipeAnimation>
            <div class="tabela text-left w-12">
                <p-toast />
                <p-confirmDialog />
                <p-inplace closable="true" closeIcon="pi pi-angle-up">
                    <ng-template pTemplate="display">
                        <p-button 
                            label="Colaboradores" 
                            tooltipPosition="top"
                            pTooltip="Exibir Colaboradores"      
                        >
                            <div class="inline-flex align-items-center">
                                <span><i class="pi pi-angle-down"></i></span>
                            </div>
                        </p-button>

                    </ng-template>
                    <ng-template pTemplate="content">
                        <p-table
                            #dt1
                            [value]="colaboradores"
                            [paginator]="true"
                            [rows]="5"
                            [showCurrentPageReport]="true"
                            [tableStyle]="{ 'min-width': '50rem' }"
                            currentPageReportTemplate="Mostrando do {first} ao {last} de {totalRecords} registros"
                            [rowsPerPageOptions]="[5, 10, 20]"
                            [globalFilterFields]="['nome', 'empresaNome','filialNome','areaNome','setorNome','ambienteNome', 'cargoNome','situacao']"
                            stripedRows
                            scrollable="true"
                        >
                            <ng-template pTemplate="caption">
                                <div class="flex flex-row md: justify-content-end">
                                    <p-floatlabel variant="on">
                                        <p-iconfield>
                                            <p-inputicon class="pi pi-search" style="color: #1b91ff;" />
                                                <input 
                                                variant="filled" 
                                                [(ngModel)]="inputValue"
                                                [style]="{'width':'100%'}" 
                                                pInputText id="on_label"
                                                autocomplete="off" 
                                                type="text" 
                                                (keydown)="filterTable()"
                                                />
                                        </p-iconfield>
                                        <label for="on_label" style="color: #1b91ff">Pesquisar</label>
                                    </p-floatlabel>
                                </div>
                            </ng-template>
                            <ng-template pTemplate="header">
                                <tr>
                                    <th style="width:25%" type="text" field="nome" display="menu">
                                        Nome
                                    </th>
                                    <th style="width:25%" type="text" field="empresaNome" display="menu">
                                        Empresa
                                    </th>
                                    <th style="width:25%" type="text" field="filialNome" display="menu">
                                        Filial
                                    </th>
                                    <th style="width:25%" type="text" field="areaNome" display="menu">
                                        Area
                                    </th>
                                    <th style="width:25%" type="text" field="setorNome" display="menu">
                                        Ambiente
                                    </th>
                                    <th style="width:25%" type="text" field="ambienteNome" display="menu">
                                        Setor
                                    </th>
                                    <th style="width:25%" type="text" field="cargoNome" display="menu">
                                        Cargo
                                    </th>
                                    <th style="width:25%" type="text" field="situacao" display="menu">
                                        Situação
                                    </th>
                                    <th style="width:25%"> Foto
                                        <p-columnFilter type="text" field="" display="menu"></p-columnFilter>
                                    </th>
                                    <th style="width: 25%;text-align: center;">Ações</th>
                                </tr>
                            </ng-template>
                            <ng-template pTemplate="body" let-colaborador>
                                <tr>
                                    <td>{{ colaborador.nome | titlecase}}</td>
                                    <td>{{ colaborador.empresa_detalhes.nome }}</td>
                                    <td>{{ colaborador.filial_detalhes.nome }}</td>
                                    <td>{{ colaborador.area_detalhes.nome }}</td>
                                    <td>{{ colaborador.setor_detalhes.nome }}</td>
                                    <td>{{ colaborador.ambiente_detalhes.nome }}</td>
                                    <td>{{ colaborador.cargo_detalhes.nome }}</td>
                                    <td>{{ colaborador.situacao | booleanToStatus }}</td>
                                    <td><img [src]="colaborador.image"  width="80" class="shadow-4" /></td>
                                    <td style="text-align: center;">
                                        <div style="display: flex; justify-content: center;">
                                            <p-button
                                                label = "Visualizar"
                                                severity="info"
                                                class="ml-1"
                                                tooltipPosition="top"
                                                pTooltip="Visualizar"
                                                (onClick)="visualizarColaboradorDetalhes(colaborador.id)"
                                            ></p-button>
                                            <p-button
                                                label = "Editar"
                                                class="ml-1"
                                                tooltipPosition="top"
                                                pTooltip="Editar"
                                                (onClick)="abrirModalEdicao(colaborador)"
                                            ></p-button>
                                            <p-button 
                                                label = "Excluir"
                                                severity="danger"
                                                class="ml-2"
                                                tooltipPosition="top"
                                                pTooltip="Excluir"
                                                (onClick)="excluirColaborador(colaborador.id)"
                                            ></p-button>
                                        </div>
                                    </td>
                                </tr>
                            </ng-template>
                            <ng-template pTemplate="paginatorleft">
                                <p-button type="button"  styleClass="p-button-text"></p-button>
                            </ng-template>
                            <ng-template pTemplate="paginatorright">
                                <p-button type="button"  styleClass="p-button-text"></p-button>
                            </ng-template> 
                        </p-table>

                    </ng-template>
                </p-inplace>
            </div>
        </div>

    </div>
    
</div>

<p-drawer
    [(visible)]="editFormVisible"
    position="top"
    [style]="{ height: 'auto' }"
>

    <div class="containerInterno w-12 p-0">
        <div class="background-form p-0">
            <form
                [formGroup]="editForm" 
                title="Editar" 
                class="flex flex-column " 
            >
                <div class="form-geral flex flex-column w-12 lg:flex-row">
                    <div class="fg1 flex flex-column w-12 align-items-center">

                        <p-card class="card w-12 text-center">
                            <ng-template #header>
                                <div class="header w-full text-center">
                                    <b>Editar Colaborador</b>
                                </div>
                            </ng-template>
                            <div class="form-geral flex flex-column lg:flex-row">

                                <div class="fg1 flex flex-column w-12 align-items-center lg:w-6 mr-3">
                                    <div class="form1 w-12 mt-0">
                                        <p-floatlabel variant="on">
                                            <p-iconfield>
                                                <p-inputicon class="pi pi-user" />
                                                <input
                                                    variant="filled"
                                                    [style]="{'width':'100%'}"
                                                    pInputText id="on_label"
                                                    autocomplete="off"
                                                    formControlName="nome"
                                                    type="text"
                                                />
                                            </p-iconfield>
                                            <label for="on_label">Digite o nome</label>
                                        </p-floatlabel>
                                    </div>
                                    <div class="form2 w-12 text-left mt-1">
                                        <p-floatLabel variant="on">
                                            <p-select
                                                variant="filled"
                                                inputId="float-label"
                                                [style]="{'width':'100%'}"
                                                [options]="empresas"
                                                formControlName="empresa"
                                                optionLabel="nome"
                                                (onChange)="onEmpresaSelecionada($event.value)"
                                            >
                                            </p-select>
                                            <label for="float-label" style="margin-left: 15px;">Selecione a Empresa</label>
                                        </p-floatLabel>
                                    </div>
                                    <div class="filial w-12 text-left mt-1">
                                        <p-floatLabel variant="on">
                                            <p-select
                                                variant="filled"
                                                inputId="float-label"
                                                [style]="{'width':'100%'}"
                                                [options]="filiais"
                                                id="filial"
                                                formControlName="filial"
                                                optionLabel="nome"
                                                [disabled]="true"
                                                (onChange)="onFilialSelecionada($event.value)"
                                            >
                                            </p-select>
                                            <label for="float-label" style="margin-left: 15px;">Selecione a Filial</label>
                                        </p-floatLabel>
                                    </div>
                                    <div class="form3 w-12 text-left mt-1">
                                        <p-floatLabel variant="on">
                                            <p-select
                                                variant="filled"
                                                [style]="{'width':'100%'}"
                                                [options]="areas"
                                                id="area"
                                                formControlName="area"
                                                optionLabel="nome"
                                                inputId="float-label"
                                                [disabled]="true"
                                                (onChange)="onAreaSelecionada($event.value)"
                                                >
                                            </p-select>
                                            <label for="float-label" style="margin-left: 15px;">Selecione a Área</label>
                                        </p-floatLabel>
                                    </div>
                                    <div class="dvset w-12 text-left mt-1">
                                        <p-floatLabel variant="on">
                                            <p-select
                                                variant="filled"
                                                [style]="{'width':'100%'}"
                                                [options]="setores"
                                                id="setor"
                                                formControlName="setor"
                                                optionLabel="nome"
                                                inputId="float-label"
                                                [disabled]="true"
                                                (onChange)="onSetorSelecionado($event.value)"
                                                >
                                            </p-select>
                                            <label for="float-label" style="margin-left: 15px;">Selecione o Ambiente</label>
                                        </p-floatLabel>
                                    </div>
                                    <div class="form4 w-12 text-left mt-1">
                                        <p-floatLabel variant="on">
                                            <p-select
                                                variant="filled"
                                                [style]="{'width':'100%'}"
                                                id="ambiente"
                                                [options]="ambientes"
                                                formControlName="ambiente"
                                                optionLabel="nome"
                                                [disabled]="true"
                                                inputId="float-label"
                                                (onChange)="onAmbienteSelecionado($event.value)"
                                            >
                                            </p-select>
                                            <label for="float-label" style="margin-left: 15px;">Selecione o Setor</label>
                                        </p-floatLabel>
                                    </div>
                                    <div class="dvcarg w-12 text-left mt-1">
                                        <p-floatLabel variant="on">
                                            <p-select
                                                variant="filled"
                                                [style]="{'width':'100%'}"
                                                id="cargo"
                                                [options]="cargos"
                                                formControlName="cargo"
                                                optionLabel="nome"
                                                [disabled]="true"
                                                inputId="float-label"
                                                (onChange)="onCargoSelecionado($event.value)"
                                            >
                                            </p-select>
                                            <label for="float-label" style="margin-left: 15px;">Selecione o Cargo</label>
                                        </p-floatLabel>
                                    </div>
                                    <div class="dvtc w-12 text-left mt-1">
                                        <p-floatLabel variant="on">
                                            <p-select
                                                variant="filled"
                                                [style]="{'width':'100%'}"
                                                id="tipocontrato"
                                                [options]="tipocontratos"
                                                formControlName="tipocontrato"
                                                optionLabel="nome"
                                                inputId="float-label"
                                            >
                                            </p-select>
                                            <label for="float-label" style="margin-left: 15px;">Selecione o Tipo de Contrato</label>
                                        </p-floatLabel>
                                    </div>
                                    <div class="dvraca w-12 text-left mt-1">
                                        <p-floatLabel variant="on">
                                            <p-select
                                                variant="filled"
                                                [style]="{'width':'100%'}"
                                                id="raca"
                                                [options]="racas"
                                                formControlName="raca"
                                                optionLabel="nome"
                                                inputId="float-label"
                                            >
                                            </p-select>
                                            <label for="float-label" style="margin-left: 15px;">Selecione a Raça</label>
                                        </p-floatLabel>
                                    </div>
                                    <div class="dvinst w-12 text-left mt-1">
                                        <p-floatLabel variant="on">
                                            <p-select
                                                variant="filled"
                                                [style]="{'width':'100%'}"
                                                id="inst"
                                                [options]="instrucoes"
                                                formControlName="instrucao"
                                                optionLabel="nome"
                                                inputId="float-label"
                                            >
                                            </p-select>
                                            <label for="float-label" style="margin-left: 15px;">Selecione o Grau de Instrução</label>
                                        </p-floatLabel>
                                    </div>
                                    <div class="sistemas w-12 text-left mt-1">
                                        <p-floatlabel variant="on">
                                            <p-iconfield>

                                                <input
                                                    variant="filled"
                                                    [style]="{'width':'100%'}"
                                                    pInputText id="on_label"
                                                    autocomplete="off"
                                                    formControlName="minerion_id"
                                                    type="text"
                                                />
                                            </p-iconfield>
                                            <label for="on_label">Minerion ID</label>
                                        </p-floatlabel>
                                        <p-floatlabel variant="on">
                                            <p-iconfield>

                                                <input
                                                    variant="filled"
                                                    [style]="{'width':'100%'}"
                                                    pInputText id="on_label"
                                                    autocomplete="off"
                                                    formControlName="dominio_id"
                                                    type="text"
                                                />
                                            </p-iconfield>
                                            <label for="on_label">Dominio ID</label>
                                        </p-floatlabel>
                                        <p-floatlabel variant="on">
                                            <p-iconfield>

                                                <input
                                                    variant="filled"
                                                    [style]="{'width':'100%'}"
                                                    pInputText id="on_label"
                                                    autocomplete="off"
                                                    formControlName="sgg_id"
                                                    type="text"
                                                />
                                            </p-iconfield>
                                            <label for="on_label">SGG ID</label>
                                        </p-floatlabel>
                                    </div>
                                </div>

                                <div class="fg2 flex flex-column w-12 align-items-center lg:w-6 ml-3">

                                    <div class="dvsal w-12 text-left mt-0">
                                        <p-floatLabel variant="on" >
                                            <p-inputNumber
                                                variant="filled"
                                                inputId="on_label"
                                                formControlName="salario"
                                                inputId="currency-us"
                                                mode="currency"
                                                currency="BRL"
                                                locale="pt-BR"

                                            />
                                            <label for="on_label">Informe o Salário</label>
                                        </p-floatLabel>
                                    </div>
                                    <div class="dvcat w-12 text-left mt-1">
                                        <p-floatLabel variant="on">
                                            <p-select
                                                variant="filled"
                                                [style]="{'width':'100%'}"
                                                id="cat"
                                                [options]="categorias"
                                                formControlName="categoria"
                                                optionLabel="nome"
                                                inputId="float-label"
                                            >
                                            </p-select>
                                            <label for="float-label" style="margin-left: 5px;">Selecione a Categoria</label>
                                        </p-floatLabel>
                                    </div>
                                    <div class="form5 w-12 text-left mt-1">
                                        <p-floatLabel variant="on">
                                            <p-datepicker
                                                variant="filled"
                                                [style]="{'width':'100%'}"
                                                id="da"
                                                formControlName="data_admissao"
                                                dateFormat="dd/mm/yy"
                                                inputId="float-label"
                                                [showIcon]="true"
                                            >
                                            </p-datepicker>
                                            <label for="float-label" >Data de Admissão</label>
                                        </p-floatLabel>
                                    </div>
                                    <div class="dvgen w-12 text-left mt-1">
                                        <p-floatLabel variant="on">
                                            <p-select
                                                variant="filled"
                                                id="gen"
                                                [style]="{'width':'100%'}"
                                                [options]="generos"
                                                formControlName="genero"
                                                optionLabel="nome"
                                                inputId="float-label"
                                            >
                                            </p-select>
                                            <label for="float-label" >Selecione o Gênero</label>
                                        </p-floatLabel>
                                    </div>
                                    <div class="form6 w-12 text-left mt-1">
                                        <p-floatLabel variant="on">
                                            <p-select
                                                variant="filled"
                                                [style]="{'width':'100%'}"
                                                id="es"
                                                [options]="estados_civis"
                                                formControlName="estado_civil"
                                                optionLabel="nome"
                                                inputId="float-label"
                                            >
                                            </p-select>
                                            <label for="float-label" style="margin-left: 5px;">Selecione o Estado Civil</label>
                                        </p-floatLabel>
                                    </div>
                                    <div class="form7 w-12 text-left mt-1">
                                        <p-floatLabel variant="on">
                                            <p-datepicker           
                                                variant="filled"
                                                id="dc"
                                                [style]="{'width':'100%'}"
                                                formControlName="data_nascimento"
                                                dateFormat="dd/mm/yy"
                                                inputId="float-label"
                                                [showIcon]="true"
                                            >
                                            </p-datepicker>
                                            <label for="float-label" style="margin-left: 5px;">Data de Nascimento</label>
                                        </p-floatLabel>
                                    </div>
                                    <div class="dvft w-12 flex-wrap lg:text-justify mt-1">
                                        <p><label for="foto">Carregar Foto</label></p>
                                        <input
                                            id="foto"
                                            type="file"
                                            formControlName="image"
                                            class="form-control"
                                            (change)="onFileChange($event,registercolaboradorForm)"
                                        />
                                    </div>

                                    <div class="dvemail w-12 text-left mt-1">
                                        <p-floatlabel variant="on">
                                            <p-iconfield>
                                                <p-inputicon class="pi pi-at" />
                                                <input
                                                    variant="filled"
                                                    [style]="{'width':'100%'}"
                                                    pInputText id="on_label"
                                                    autocomplete="off"
                                                    formControlName="email"
                                                    type="text"
                                                />
                                            </p-iconfield>
                                            <label for="on_label">Digite o email</label>
                                        </p-floatlabel>
                                    </div>
                                    <div class="dvcb w-12 text-left mt-1">
                                        <div class="titclas">
                                            <p><strong>Classificação do Colaborador</strong></p>
                                        </div>
                                            <div class="btns flex flex-column align-items-start  lg:flex-row ">
                                                
                                                <p-toggleswitch
                                                    id="sit"
                                                    formControlName="tornar_avaliador"
                                                >
                                                </p-toggleswitch>
                                                <p><label for="sit" [style]="{'margin-right':'10px'}">Avaliador </label></p>
                                                
                                                <p-toggleswitch
                                                    id="sit"
                                                    formControlName="tornar_avaliado"
                                                >
                                                </p-toggleswitch>
                                                <p><label for="sit">Avaliado </label></p>

                                            </div> 

                                            <div class="btns flex flex-column align-items-start  lg:flex-row ">
                                                
                                                    <p-toggleswitch
                                                        id="sit"
                                                        formControlName="situacao"
                                                    >
                                                    </p-toggleswitch>
                                                    <p><label for="sit" [style]="{'margin-right':'12px'}">Situação </label></p>
                                                
                                                    <p-toggleswitch
                                                        formControlName="tornar_gestor"
                                                    >
                                                    </p-toggleswitch>
                                                    <p><label for="sit">Gestor de Orçamento</label></p>
                                            </div> 
                                        </div>
                                    
                                </div>
                            </div>

                            <div class=" flex w-12 gap-3 mt-4 justify-content-center text-center">
                                <p-button 
                                    (onClick)="cleareditForm()" 
                                    label="Limpar"
                                    iconPos="right"  
                                    tooltipPosition="top"
                                    pTooltip="Limpar"
                                />
                                <p-button 
                                    (onClick)="saveEdit()" 
                                    label="Salvar" 
                                    severity="success"
                                    icon="pi pi-check" 
                                    iconPos="right" 
                                    tooltipPosition="top"
                                    pTooltip="Salvar"
                                />
                            </div>
                        </p-card>
                    </div>    
                </div>
            </form>
            <form
                [formGroup]="imgForm"
                title="Cadastrar novo Colaborador"
                primaryBtnText="Cadastrar"
                (submit)="updateImage()"
                enctype="multipart/form-data"
            >
                <div class="editImg">
                    <input
                    id="foto"
                    type="file"
                    formControlName="image"
                    class="form-control"
                    (change)="onFileChange($event,imgForm)">

                <button type="submit">Atualizar Imagem</button>
            </div>
        </form>
        </div>
    </div>
  
</p-drawer>

<p-dialog
    [modal]="true"
    [(visible)]="detalhaColaboradorVisible"
    [style]="{ width: '70rem' }"
    [breakpoints]="{ '1199px': '75vw', '575px': '90vw' }"
>
    <p-card class="card w-12 left-center">
        <ng-template #header>
            <div class="header w-full text-center">
                <b>Detalhes do Colaborador</b>
            </div>
        </ng-template>
        <div *ngIf="colaboradorDetalhes">
            <div class="detalhes">
                <p>Nome: <strong>{{ colaboradorDetalhes.nome }}</strong></p>
                <p>Salário: <strong>{{ colaboradorDetalhes.salario | currency:'BRL':'symbol':'1.2-4' }}</strong></p>
                <p>Tipo de Contrato: <strong>{{ colaboradorDetalhes.tipocontrato }}</strong></p>
                <p>Data de Admissão: <strong>{{ colaboradorDetalhes.data_admissao }}</strong></p>
                <p>Gênero: <strong>{{ colaboradorDetalhes.genero }}</strong></p>
                <p>Situação: <strong>{{ colaboradorDetalhes.situacao }}</strong></p>
                <p>Estado Civil: <strong>{{ colaboradorDetalhes.estado_civil }}</strong></p>
                <p>Data de Nascimento: <strong>{{ colaboradorDetalhes.data_nascimento }}</strong></p>
                <p>Data da Troca de Setor: <strong>{{ colaboradorDetalhes.data_troca_setor }}</strong></p>
                <p>Data da Troca de Cargo: <strong>{{ colaboradorDetalhes.data_troca_cargo }}</strong></p>
                <p>Data de Demissão: <strong>{{ colaboradorDetalhes.data_demissao }}</strong></p>
                <p>Email: <strong>{{ colaboradorDetalhes.email }}</strong></p>
                <p>Raça: <strong>{{ colaboradorDetalhes.raca }}</strong></p>
                <p>Grau de Instrução: <strong>{{ colaboradorDetalhes.instrucao }}</strong></p>
                <p>Categoria: <strong>{{ colaboradorDetalhes.categoria }}</strong></p>
                <p>Empresa: <strong>{{ colaboradorDetalhes.empresa_detalhes.nome }}</strong><p>
                <p>Filial: <strong>{{ colaboradorDetalhes.filial_detalhes.nome }}</strong></p>
                <p>Área: <strong>{{ colaboradorDetalhes.area_detalhes.nome }} </strong></p>
                <p>Setor: <strong>{{ colaboradorDetalhes.setor_detalhes.nome }}</strong></p>
                <p>Ambiente: <strong>{{ colaboradorDetalhes.ambiente_detalhes.nome }}</strong></p>
                <p>Cargo: <strong>{{ colaboradorDetalhes.cargo_detalhes.nome }}</strong></p>
                <p>Usuário ID: <strong>{{ colaboradorDetalhes.user }}</strong></p>
                <p>Domínio ID: <strong>{{ colaboradorDetalhes.dominio_id }}</strong></p>
                <p>Minerion ID: <strong>{{ colaboradorDetalhes.minerion_id }}</strong></p>
                <p>SGG ID: <strong>{{ colaboradorDetalhes.sgg_id }}</strong></p>
            </div>
            <div class="dvimg">
                <img [src]="colaboradorDetalhes.image"  width="80" class="shadow-4" />
            </div>
        </div>
    </p-card>
</p-dialog>